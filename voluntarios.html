<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CAAN</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div data-include-html="navbar.html"></div>
    <div class="headers-container">
      <img
        src="voluntariado.png"
        style="max-width: 100%; height: auto; width: 80vw;"
      />
    </div>
    <div class="container">
      <div style="display: flex; justify-content: center; margin: 50px 0 0 0">
        <form class="volunteer-form"
          style="
            max-width: 600px;
            background: #ffffff;
            padding: 16px 0 12px 0;
            border-radius: 10px;
            min-width: 450px;
          "
        >
        <h1 style="text-align: center; margin-bottom: 30px; color: #0097b2;">Únete como voluntario</h1>
          <div class="mb-3">
            <label for="username" class="col-form-label"
              >Nombre completo:</label
            >
            <input
            type="text"
            class="form-control"
            id="username"
            placeholder="Juan Pérez"
            required
            style="padding: 10px; border-radius: 5px; width: calc(100% - 20px); box-sizing: border-box;"
          />          
          <div class="invalid-feedback">
            Por favor, escribe tu nombre completo (nombre y apellido).
          </div>
        </div>
          <div class="mb-3">
            <label for="email" class="col-form-label">Email:</label>
            <input
              type="email"
              class="form-control"
              id="email"
              placeholder="juan.perez@gmail.com"
              required
              style="padding: 10px; border-radius: 5px; width: calc(100% - 20px); box-sizing: border-box;"
            />
            <div class="invalid-feedback">
              Por favor, escribe un correo electrónico válido (ejemplo@dominio.com).
            </div>
          </div>
          <div class="mb-3">
            <label for="areas" class="col-form-label">Áreas de interés:</label>
            <div
              style="
                display: flex;
                flex-flow: row wrap;
                justify-content: flex-start;
              "
            >
              <div
                style="
                  padding: 0 10px;
                  border-radius: 20px;
                  color: black;
                "
              >
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckTransito"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="flexCheckTransito">
                    Tránsito
                  </label>
                </div>
              </div>
              <div
                style="
                  
                  padding: 0 10px;
                  border-radius: 20px;
                  color: black;
                "
              >
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    value=""
                    id="flexCheckTraslado"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="flexCheckTraslado">
                    Traslado
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <label for="availability" class="col-form-label">Disponibilidad:</label>
            <div id="availability" >
              <label>Días:</label>
              <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 10px;">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="monday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="monday">Lunes</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tuesday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="tuesday">Martes</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tuesday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="tuesday">Miércoles</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tuesday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="tuesday">Jueves</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tuesday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="tuesday">Viernes</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tuesday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="tuesday">Sábado</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tuesday"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="tuesday">Domingo</label>
                </div>
              </div>
              <label>Turno:</label>
              <div style="display: flex; gap: 20px;margin-left: 10px;">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="shift"
                    id="morning"
                    value="Mañana"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="morning">Mañana</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="shift"
                    id="afternoon"
                    value="Tarde"
                    style="margin-right: 5px;"
                  />
                  <label class="form-check-label" for="afternoon">Tarde</label>
                </div>
              </div>
            </div>
          </div>
          
          <div
            class="modal-footer"
            style="justify-content: center; border: none"
          >
            <button
              type="submit"
              class="btn btn-primary"
              style="
              padding: 10px 30px;
                background-color: #7ab317;
                border-radius: 10px;
                border: none;
                font-size: 1.5rem;
              "
            >
              Enviar
            </button>
          </div>
        </form>
      </div> 

      <div id="carouselExample" class="carousel slide">
        <div class="carousel-inner" style=" margin-top: 20px;">
          <h4 class="home-title-gal"  style="margin-bottom: 0; margin-top: 20px;">
            "Descubre las experiencias de quienes ya forman parte de nuestra
            familia de voluntarios."
          </h4>
          <div class="carousel-item active">
            <div class="pad">
              <img src="volunteers.png" class="d-block w-100" alt="..." style="max-width: 80%; margin: 0 auto;" />
            </div>
          </div>
          <div class="carousel-item">
            <div class="pad">
              <img src="volunteers.png" class="d-block w-100" alt="..." style="max-width: 80%; margin: 0 auto;" />
            </div>
          </div>
          <div class="carousel-item">
            <div class="pad">
              <img src="volunteers.png" class="d-block w-100" alt="..."  style="max-width: 80%; margin: 0 auto;"/>
            </div>
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExample"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExample"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
    <div data-include-html="footer.html"></div>

    <script src="include.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector("form");
    const nameInput = document.getElementById("username");
    const emailInput = document.getElementById("email");
    const dayCheckboxes = document.querySelectorAll("#availability .form-check-input[type='checkbox']");
    const shiftRadios = document.querySelectorAll("#availability .form-check-input[type='radio']");
    const interestCheckboxes = document.querySelectorAll("input.form-check-input[type='checkbox']:not(#monday, #tuesday, #wednesday, #thursday, #friday, #saturday, #sunday)");
    const errorMessage = document.createElement("div");

    // Configuración inicial del mensaje de error
    errorMessage.style.color = "red";
    errorMessage.style.marginBottom = "20px";
    errorMessage.style.display = "none";
    form.insertBefore(errorMessage, form.querySelector(".modal-footer"));

    // Función para mostrar mensaje de error
    function showError(message) {
      errorMessage.textContent = message;
      errorMessage.style.display = "block";
    }

    // Ocultar mensaje de error
    function hideError() {
      errorMessage.style.display = "none";
    }

    // Validar Nombre Completo
    function validateName() {
      const nameParts = nameInput.value.trim().split(" ");
      if (nameParts.length < 2 || nameParts.some(part => part.length < 2)) {
        nameInput.classList.add("is-invalid");
        return false;
      } else {
        nameInput.classList.remove("is-invalid");
        return true;
      }
    }

    // Validar Email
    function validateEmail() {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(emailInput.value)) {
        emailInput.classList.add("is-invalid");
        return false;
      } else {
        emailInput.classList.remove("is-invalid");
        return true;
      }
    }

    // Validar selección de días
    function validateDays() {
      const anyChecked = Array.from(dayCheckboxes).some((checkbox) => checkbox.checked);
      if (!anyChecked) {
        dayCheckboxes.forEach((checkbox) => checkbox.classList.add("is-invalid"));
      } else {
        dayCheckboxes.forEach((checkbox) => checkbox.classList.remove("is-invalid"));
      }
      return anyChecked;
    }

    // Validar selección de turno
    function validateShift() {
      const anySelected = Array.from(shiftRadios).some((radio) => radio.checked);
      if (!anySelected) {
        shiftRadios.forEach((radio) => radio.classList.add("is-invalid"));
      } else {
        shiftRadios.forEach((radio) => radio.classList.remove("is-invalid"));
      }
      return anySelected;
    }

    // Validar selección de áreas de interés
    function validateInterests() {
      const anyChecked = Array.from(interestCheckboxes).some((checkbox) => checkbox.checked);
      if (!anyChecked) {
        interestCheckboxes.forEach((checkbox) => checkbox.classList.add("is-invalid"));
      } else {
        interestCheckboxes.forEach((checkbox) => checkbox.classList.remove("is-invalid"));
      }
      return anyChecked;
    }

    // Validación al enviar el formulario
    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const isNameValid = validateName();
      const isEmailValid = validateEmail();
      const isDaysValid = validateDays();
      const isShiftValid = validateShift();
      const isInterestsValid = validateInterests();

      if (isNameValid && isEmailValid && isDaysValid && isShiftValid && isInterestsValid) {
        hideError();
        const successModal = new bootstrap.Modal(document.getElementById("successModal"));
        successModal.show();
        form.reset();
        document.querySelectorAll(".is-invalid").forEach((element) => {
          element.classList.remove("is-invalid");
        });
      } else {
        showError("Por favor, completa todos los campos requeridos.");
      }
    });

    // Validaciones inmediatas
    nameInput.addEventListener("input", validateName);
    emailInput.addEventListener("input", validateEmail);
    dayCheckboxes.forEach((checkbox) => checkbox.addEventListener("change", validateDays));
    shiftRadios.forEach((radio) => radio.addEventListener("change", validateShift));
    interestCheckboxes.forEach((checkbox) => checkbox.addEventListener("change", validateInterests));
  });
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
  crossorigin="anonymous"
</script>

<!-- Modal de éxito -->
<div
  class="modal fade"
  id="successModal"
  tabindex="-1"
  aria-labelledby="successModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-header border-0">
        <h5 class="modal-title w-100" id="successModalLabel" style="font-size: 1.8rem; color: #7ab317;">
          <i class="bi bi-check-circle" style="font-size: 2rem; margin-right: 8px;"></i>
          ¡Registro exitoso!
        </h5>
      </div>
      <div class="modal-body" style="font-size: 1.2rem; color: #6c757d;">
        <p>Gracias por unirte como voluntario.</p>
        <p>Nos pondremos en contacto contigo pronto.</p>
      </div>
      <div class="modal-footer justify-content-center border-0">
        <button
          type="button"
          class="btn btn-primary"
          style="background-color: #7ab317; border: none; padding: 10px 30px; font-size: 1.2rem; border-radius: 10px;"
          data-bs-dismiss="modal"
        >
          Entendido
        </button>
      </div>
    </div>
  </div>
</div>